// <auto-generated />
using System;
using ERPNet.Infrastructure.Database.Context;
using Microsoft.EntityFrameworkCore;
using Microsoft.EntityFrameworkCore.Infrastructure;
using Microsoft.EntityFrameworkCore.Metadata;
using Microsoft.EntityFrameworkCore.Migrations;
using Microsoft.EntityFrameworkCore.Storage.ValueConversion;

#nullable disable

namespace ERPNet.Infrastructure.Database.Migrations
{
    [DbContext(typeof(ERPNetDbContext))]
    [Migration("20260213130724_SoftDelete General")]
    partial class SoftDeleteGeneral
    {
        /// <inheritdoc />
        protected override void BuildTargetModel(ModelBuilder modelBuilder)
        {
#pragma warning disable 612, 618
            modelBuilder
                .HasAnnotation("ProductVersion", "10.0.2")
                .HasAnnotation("Relational:MaxIdentifierLength", 128);

            SqlServerModelBuilderExtensions.UseIdentityColumns(modelBuilder);

            modelBuilder.Entity("ERPNet.Domain.Entities.Archivo", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uniqueidentifier");

                    b.Property<Guid?>("ArchivoOriginalId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("ContentType")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("nvarchar(100)");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("datetime2");

                    b.Property<int?>("CreatedBy")
                        .HasColumnType("int");

                    b.Property<DateTime?>("DeletedAt")
                        .HasColumnType("datetime2");

                    b.Property<int?>("DeletedBy")
                        .HasColumnType("int");

                    b.Property<bool>("EsThumbnail")
                        .HasColumnType("bit");

                    b.Property<bool>("IsDeleted")
                        .HasColumnType("bit");

                    b.Property<string>("NombreOriginal")
                        .IsRequired()
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)");

                    b.Property<long>("Tamaño")
                        .HasColumnType("bigint");

                    b.HasKey("Id");

                    b.HasIndex("ArchivoOriginalId");

                    b.ToTable("Archivos");
                });

            modelBuilder.Entity("ERPNet.Domain.Entities.AsignacionTurno", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("Id"));

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("datetime2");

                    b.Property<int?>("CreatedBy")
                        .HasColumnType("int");

                    b.Property<DateTime?>("DeletedAt")
                        .HasColumnType("datetime2");

                    b.Property<int?>("DeletedBy")
                        .HasColumnType("int");

                    b.Property<int>("EmpleadoId")
                        .HasColumnType("int");

                    b.Property<DateOnly>("FechaDesde")
                        .HasColumnType("date");

                    b.Property<DateOnly?>("FechaHasta")
                        .HasColumnType("date");

                    b.Property<bool>("IsDeleted")
                        .HasColumnType("bit");

                    b.Property<int>("TurnoId")
                        .HasColumnType("int");

                    b.Property<DateTime?>("UpdatedAt")
                        .HasColumnType("datetime2");

                    b.Property<int?>("UpdatedBy")
                        .HasColumnType("int");

                    b.HasKey("Id");

                    b.HasIndex("EmpleadoId");

                    b.HasIndex("TurnoId");

                    b.ToTable("AsignacionesTurno");
                });

            modelBuilder.Entity("ERPNet.Domain.Entities.Empleado", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("Id"));

                    b.Property<bool>("Activo")
                        .HasColumnType("bit");

                    b.Property<string>("Apellidos")
                        .IsRequired()
                        .HasMaxLength(200)
                        .HasColumnType("nvarchar(200)");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("datetime2");

                    b.Property<int?>("CreatedBy")
                        .HasColumnType("int");

                    b.Property<string>("DNI")
                        .IsRequired()
                        .HasMaxLength(20)
                        .HasColumnType("nvarchar(20)");

                    b.Property<DateTime?>("DeletedAt")
                        .HasColumnType("datetime2");

                    b.Property<int?>("DeletedBy")
                        .HasColumnType("int");

                    b.Property<int?>("EncargadoId")
                        .HasColumnType("int");

                    b.Property<Guid?>("FotoId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<bool>("IsDeleted")
                        .HasColumnType("bit");

                    b.Property<string>("Nombre")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("nvarchar(100)");

                    b.Property<int>("SeccionId")
                        .HasColumnType("int");

                    b.Property<DateTime?>("UpdatedAt")
                        .HasColumnType("datetime2");

                    b.Property<int?>("UpdatedBy")
                        .HasColumnType("int");

                    b.HasKey("Id");

                    b.HasIndex("DNI")
                        .IsUnique();

                    b.HasIndex("EncargadoId");

                    b.HasIndex("FotoId")
                        .IsUnique()
                        .HasFilter("[FotoId] IS NOT NULL");

                    b.HasIndex("SeccionId");

                    b.ToTable("Empleados");
                });

            modelBuilder.Entity("ERPNet.Domain.Entities.IncidenciaMarcaje", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("Id"));

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("datetime2");

                    b.Property<int?>("CreatedBy")
                        .HasColumnType("int");

                    b.Property<DateTime?>("DeletedAt")
                        .HasColumnType("datetime2");

                    b.Property<int?>("DeletedBy")
                        .HasColumnType("int");

                    b.Property<int>("Estado")
                        .HasColumnType("int");

                    b.Property<bool>("IsDeleted")
                        .HasColumnType("bit");

                    b.Property<int>("MarcajeId")
                        .HasColumnType("int");

                    b.Property<int>("MinutosRetraso")
                        .HasColumnType("int");

                    b.Property<string>("Observaciones")
                        .HasMaxLength(1000)
                        .HasColumnType("nvarchar(1000)");

                    b.Property<DateTime?>("UpdatedAt")
                        .HasColumnType("datetime2");

                    b.Property<int?>("UpdatedBy")
                        .HasColumnType("int");

                    b.Property<int?>("ValidadaPorId")
                        .HasColumnType("int");

                    b.HasKey("Id");

                    b.HasIndex("MarcajeId")
                        .IsUnique();

                    b.HasIndex("ValidadaPorId");

                    b.ToTable("IncidenciasMarcaje");
                });

            modelBuilder.Entity("ERPNet.Domain.Entities.Log", b =>
                {
                    b.Property<long>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<long>("Id"));

                    b.Property<string>("Accion")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("nvarchar(100)");

                    b.Property<string>("CodigoError")
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)");

                    b.Property<string>("Detalle")
                        .HasMaxLength(2000)
                        .HasColumnType("nvarchar(2000)");

                    b.Property<string>("Entidad")
                        .HasMaxLength(100)
                        .HasColumnType("nvarchar(100)");

                    b.Property<string>("EntidadId")
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)");

                    b.Property<DateTime>("Fecha")
                        .HasColumnType("datetime2");

                    b.Property<int?>("UsuarioId")
                        .HasColumnType("int");

                    b.HasKey("Id");

                    b.HasIndex("UsuarioId");

                    b.ToTable("Logs");
                });

            modelBuilder.Entity("ERPNet.Domain.Entities.LogIntentoLogin", b =>
                {
                    b.Property<long>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<long>("Id"));

                    b.Property<string>("DireccionIp")
                        .IsRequired()
                        .HasMaxLength(45)
                        .HasColumnType("nvarchar(45)");

                    b.Property<bool>("Exitoso")
                        .HasColumnType("bit");

                    b.Property<DateTime>("FechaIntento")
                        .HasColumnType("datetime2");

                    b.Property<string>("NombreUsuario")
                        .IsRequired()
                        .HasMaxLength(256)
                        .HasColumnType("nvarchar(256)");

                    b.Property<int?>("UsuarioId")
                        .HasColumnType("int");

                    b.HasKey("Id");

                    b.HasIndex("UsuarioId");

                    b.HasIndex("DireccionIp", "FechaIntento");

                    b.HasIndex("NombreUsuario", "FechaIntento");

                    b.ToTable("IntentosLogin");
                });

            modelBuilder.Entity("ERPNet.Domain.Entities.Maquinaria", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("Id"));

                    b.Property<bool>("Activa")
                        .HasColumnType("bit");

                    b.Property<Guid?>("CertificadoCeId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("Codigo")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("datetime2");

                    b.Property<int?>("CreatedBy")
                        .HasColumnType("int");

                    b.Property<DateTime?>("DeletedAt")
                        .HasColumnType("datetime2");

                    b.Property<int?>("DeletedBy")
                        .HasColumnType("int");

                    b.Property<Guid?>("FichaTecnicaId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<Guid?>("FotoId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<bool>("IsDeleted")
                        .HasColumnType("bit");

                    b.Property<Guid?>("ManualId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("Nombre")
                        .IsRequired()
                        .HasMaxLength(200)
                        .HasColumnType("nvarchar(200)");

                    b.Property<int?>("SeccionId")
                        .HasColumnType("int");

                    b.Property<string>("Ubicacion")
                        .HasMaxLength(200)
                        .HasColumnType("nvarchar(200)");

                    b.Property<DateTime?>("UpdatedAt")
                        .HasColumnType("datetime2");

                    b.Property<int?>("UpdatedBy")
                        .HasColumnType("int");

                    b.HasKey("Id");

                    b.HasIndex("CertificadoCeId")
                        .IsUnique()
                        .HasFilter("[CertificadoCeId] IS NOT NULL");

                    b.HasIndex("Codigo")
                        .IsUnique();

                    b.HasIndex("FichaTecnicaId")
                        .IsUnique()
                        .HasFilter("[FichaTecnicaId] IS NOT NULL");

                    b.HasIndex("FotoId")
                        .IsUnique()
                        .HasFilter("[FotoId] IS NOT NULL");

                    b.HasIndex("ManualId")
                        .IsUnique()
                        .HasFilter("[ManualId] IS NOT NULL");

                    b.HasIndex("SeccionId");

                    b.ToTable("Maquinas");
                });

            modelBuilder.Entity("ERPNet.Domain.Entities.Marcaje", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("Id"));

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("datetime2");

                    b.Property<int?>("CreatedBy")
                        .HasColumnType("int");

                    b.Property<DateTime?>("DeletedAt")
                        .HasColumnType("datetime2");

                    b.Property<int?>("DeletedBy")
                        .HasColumnType("int");

                    b.Property<int>("EmpleadoId")
                        .HasColumnType("int");

                    b.Property<DateOnly>("Fecha")
                        .HasColumnType("date");

                    b.Property<DateTime?>("HoraEntrada")
                        .HasColumnType("datetime2");

                    b.Property<DateTime?>("HoraSalida")
                        .HasColumnType("datetime2");

                    b.Property<bool>("IsDeleted")
                        .HasColumnType("bit");

                    b.Property<DateTime?>("UpdatedAt")
                        .HasColumnType("datetime2");

                    b.Property<int?>("UpdatedBy")
                        .HasColumnType("int");

                    b.HasKey("Id");

                    b.HasIndex("EmpleadoId");

                    b.ToTable("Marcajes");
                });

            modelBuilder.Entity("ERPNet.Domain.Entities.Menu", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("Id"));

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("datetime2");

                    b.Property<int?>("CreatedBy")
                        .HasColumnType("int");

                    b.Property<DateTime?>("DeletedAt")
                        .HasColumnType("datetime2");

                    b.Property<int?>("DeletedBy")
                        .HasColumnType("int");

                    b.Property<string>("Icon")
                        .HasMaxLength(100)
                        .HasColumnType("nvarchar(100)");

                    b.Property<bool>("IsDeleted")
                        .HasColumnType("bit");

                    b.Property<int?>("MenuPadreId")
                        .HasColumnType("int");

                    b.Property<string>("Nombre")
                        .IsRequired()
                        .HasMaxLength(200)
                        .HasColumnType("nvarchar(200)");

                    b.Property<int>("Orden")
                        .HasColumnType("int");

                    b.Property<string>("Path")
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)");

                    b.Property<int>("Plataforma")
                        .HasColumnType("int");

                    b.Property<int?>("RecursoId")
                        .HasColumnType("int");

                    b.Property<string>("Tag")
                        .HasMaxLength(100)
                        .HasColumnType("nvarchar(100)");

                    b.Property<DateTime?>("UpdatedAt")
                        .HasColumnType("datetime2");

                    b.Property<int?>("UpdatedBy")
                        .HasColumnType("int");

                    b.HasKey("Id");

                    b.HasIndex("MenuPadreId");

                    b.HasIndex("RecursoId");

                    b.ToTable("Menus");
                });

            modelBuilder.Entity("ERPNet.Domain.Entities.OrdenMantenimiento", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("Id"));

                    b.Property<int?>("AsignadoAId")
                        .HasColumnType("int");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("datetime2");

                    b.Property<int?>("CreatedBy")
                        .HasColumnType("int");

                    b.Property<DateTime?>("DeletedAt")
                        .HasColumnType("datetime2");

                    b.Property<int?>("DeletedBy")
                        .HasColumnType("int");

                    b.Property<string>("Descripcion")
                        .IsRequired()
                        .HasMaxLength(2000)
                        .HasColumnType("nvarchar(2000)");

                    b.Property<int>("Estado")
                        .HasColumnType("int");

                    b.Property<DateTime?>("FechaCierre")
                        .HasColumnType("datetime2");

                    b.Property<DateTime>("FechaCreacion")
                        .HasColumnType("datetime2");

                    b.Property<bool>("IsDeleted")
                        .HasColumnType("bit");

                    b.Property<int>("MaquinariaId")
                        .HasColumnType("int");

                    b.Property<int>("TipoMantenimientoId")
                        .HasColumnType("int");

                    b.Property<DateTime?>("UpdatedAt")
                        .HasColumnType("datetime2");

                    b.Property<int?>("UpdatedBy")
                        .HasColumnType("int");

                    b.HasKey("Id");

                    b.HasIndex("AsignadoAId");

                    b.HasIndex("MaquinariaId");

                    b.HasIndex("TipoMantenimientoId");

                    b.ToTable("OrdenesMantenimiento");
                });

            modelBuilder.Entity("ERPNet.Domain.Entities.PermisoRolRecurso", b =>
                {
                    b.Property<int>("RolId")
                        .HasColumnType("int");

                    b.Property<int>("RecursoId")
                        .HasColumnType("int");

                    b.Property<int>("Alcance")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasDefaultValue(0);

                    b.Property<bool>("CanCreate")
                        .HasColumnType("bit");

                    b.Property<bool>("CanDelete")
                        .HasColumnType("bit");

                    b.Property<bool>("CanEdit")
                        .HasColumnType("bit");

                    b.Property<bool>("IsDeleted")
                        .HasColumnType("bit");

                    b.HasKey("RolId", "RecursoId");

                    b.HasIndex("RecursoId");

                    b.ToTable("PermisosRolRecurso");
                });

            modelBuilder.Entity("ERPNet.Domain.Entities.Recurso", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("Id"));

                    b.Property<string>("Codigo")
                        .IsRequired()
                        .HasMaxLength(200)
                        .HasColumnType("nvarchar(200)");

                    b.HasKey("Id");

                    b.ToTable("Recursos");

                    b.HasData(
                        new
                        {
                            Id = 1,
                            Codigo = "Aplicacion"
                        },
                        new
                        {
                            Id = 2,
                            Codigo = "Empleados"
                        },
                        new
                        {
                            Id = 3,
                            Codigo = "Vacaciones"
                        },
                        new
                        {
                            Id = 4,
                            Codigo = "Turnos"
                        },
                        new
                        {
                            Id = 5,
                            Codigo = "Maquinaria"
                        },
                        new
                        {
                            Id = 6,
                            Codigo = "Mantenimiento"
                        });
                });

            modelBuilder.Entity("ERPNet.Domain.Entities.RefreshToken", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("Id"));

                    b.Property<DateTime>("FechaCreacion")
                        .HasColumnType("datetime2");

                    b.Property<DateTime>("FechaExpiracion")
                        .HasColumnType("datetime2");

                    b.Property<DateTime?>("FechaRevocacion")
                        .HasColumnType("datetime2");

                    b.Property<bool>("IsDeleted")
                        .HasColumnType("bit");

                    b.Property<string>("ReemplazadoPor")
                        .HasMaxLength(512)
                        .HasColumnType("nvarchar(512)");

                    b.Property<string>("Token")
                        .IsRequired()
                        .HasMaxLength(512)
                        .HasColumnType("nvarchar(512)");

                    b.Property<int>("UsuarioId")
                        .HasColumnType("int");

                    b.HasKey("Id");

                    b.HasIndex("Token")
                        .IsUnique();

                    b.HasIndex("UsuarioId");

                    b.ToTable("RefreshTokens");
                });

            modelBuilder.Entity("ERPNet.Domain.Entities.Rol", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("Id"));

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("datetime2");

                    b.Property<int?>("CreatedBy")
                        .HasColumnType("int");

                    b.Property<DateTime?>("DeletedAt")
                        .HasColumnType("datetime2");

                    b.Property<int?>("DeletedBy")
                        .HasColumnType("int");

                    b.Property<string>("Descripcion")
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)");

                    b.Property<bool>("IsDeleted")
                        .HasColumnType("bit");

                    b.Property<string>("Nombre")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("nvarchar(100)");

                    b.Property<DateTime?>("UpdatedAt")
                        .HasColumnType("datetime2");

                    b.Property<int?>("UpdatedBy")
                        .HasColumnType("int");

                    b.HasKey("Id");

                    b.HasIndex("Nombre")
                        .IsUnique();

                    b.ToTable("Roles");
                });

            modelBuilder.Entity("ERPNet.Domain.Entities.RolUsuario", b =>
                {
                    b.Property<int>("UsuarioId")
                        .HasColumnType("int");

                    b.Property<int>("RolId")
                        .HasColumnType("int");

                    b.Property<bool>("IsDeleted")
                        .HasColumnType("bit");

                    b.HasKey("UsuarioId", "RolId");

                    b.HasIndex("RolId");

                    b.ToTable("RolesUsuarios");
                });

            modelBuilder.Entity("ERPNet.Domain.Entities.Seccion", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("Id"));

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("datetime2");

                    b.Property<int?>("CreatedBy")
                        .HasColumnType("int");

                    b.Property<DateTime?>("DeletedAt")
                        .HasColumnType("datetime2");

                    b.Property<int?>("DeletedBy")
                        .HasColumnType("int");

                    b.Property<bool>("IsDeleted")
                        .HasColumnType("bit");

                    b.Property<string>("Nombre")
                        .IsRequired()
                        .HasMaxLength(200)
                        .HasColumnType("nvarchar(200)");

                    b.Property<int?>("ResponsableId")
                        .HasColumnType("int");

                    b.Property<DateTime?>("UpdatedAt")
                        .HasColumnType("datetime2");

                    b.Property<int?>("UpdatedBy")
                        .HasColumnType("int");

                    b.HasKey("Id");

                    b.HasIndex("ResponsableId");

                    b.ToTable("Secciones");
                });

            modelBuilder.Entity("ERPNet.Domain.Entities.TipoMantenimiento", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("Id"));

                    b.Property<string>("Codigo")
                        .IsRequired()
                        .HasMaxLength(200)
                        .HasColumnType("nvarchar(200)");

                    b.HasKey("Id");

                    b.ToTable("TiposMantenimiento");

                    b.HasData(
                        new
                        {
                            Id = 1,
                            Codigo = "Correctivo"
                        },
                        new
                        {
                            Id = 2,
                            Codigo = "Preventivo"
                        });
                });

            modelBuilder.Entity("ERPNet.Domain.Entities.Turno", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("Id"));

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("datetime2");

                    b.Property<int?>("CreatedBy")
                        .HasColumnType("int");

                    b.Property<DateTime?>("DeletedAt")
                        .HasColumnType("datetime2");

                    b.Property<int?>("DeletedBy")
                        .HasColumnType("int");

                    b.Property<TimeOnly?>("DomingoEntrada")
                        .HasColumnType("time");

                    b.Property<TimeOnly?>("DomingoSalida")
                        .HasColumnType("time");

                    b.Property<bool>("IsDeleted")
                        .HasColumnType("bit");

                    b.Property<TimeOnly?>("JuevesEntrada")
                        .HasColumnType("time");

                    b.Property<TimeOnly?>("JuevesSalida")
                        .HasColumnType("time");

                    b.Property<TimeOnly?>("LunesEntrada")
                        .HasColumnType("time");

                    b.Property<TimeOnly?>("LunesSalida")
                        .HasColumnType("time");

                    b.Property<TimeOnly?>("MartesEntrada")
                        .HasColumnType("time");

                    b.Property<TimeOnly?>("MartesSalida")
                        .HasColumnType("time");

                    b.Property<TimeOnly?>("MiercolesEntrada")
                        .HasColumnType("time");

                    b.Property<TimeOnly?>("MiercolesSalida")
                        .HasColumnType("time");

                    b.Property<string>("Nombre")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("nvarchar(100)");

                    b.Property<TimeOnly?>("SabadoEntrada")
                        .HasColumnType("time");

                    b.Property<TimeOnly?>("SabadoSalida")
                        .HasColumnType("time");

                    b.Property<int>("ToleranciaMinutos")
                        .HasColumnType("int");

                    b.Property<DateTime?>("UpdatedAt")
                        .HasColumnType("datetime2");

                    b.Property<int?>("UpdatedBy")
                        .HasColumnType("int");

                    b.Property<TimeOnly?>("ViernesEntrada")
                        .HasColumnType("time");

                    b.Property<TimeOnly?>("ViernesSalida")
                        .HasColumnType("time");

                    b.HasKey("Id");

                    b.ToTable("Turnos");
                });

            modelBuilder.Entity("ERPNet.Domain.Entities.Usuario", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("Id"));

                    b.Property<bool>("Activo")
                        .HasColumnType("bit");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("datetime2");

                    b.Property<int?>("CreatedBy")
                        .HasColumnType("int");

                    b.Property<DateTime?>("DeletedAt")
                        .HasColumnType("datetime2");

                    b.Property<int?>("DeletedBy")
                        .HasColumnType("int");

                    b.Property<string>("Email")
                        .IsRequired()
                        .HasMaxLength(256)
                        .HasColumnType("nvarchar(256)");

                    b.Property<int>("EmpleadoId")
                        .HasColumnType("int");

                    b.Property<bool>("IsDeleted")
                        .HasColumnType("bit");

                    b.Property<string>("PasswordHash")
                        .IsRequired()
                        .HasMaxLength(512)
                        .HasColumnType("nvarchar(512)");

                    b.Property<DateTime?>("UltimoAcceso")
                        .HasColumnType("datetime2");

                    b.Property<DateTime?>("UpdatedAt")
                        .HasColumnType("datetime2");

                    b.Property<int?>("UpdatedBy")
                        .HasColumnType("int");

                    b.HasKey("Id");

                    b.HasIndex("Email")
                        .IsUnique();

                    b.HasIndex("EmpleadoId")
                        .IsUnique();

                    b.ToTable("Usuarios");
                });

            modelBuilder.Entity("ERPNet.Domain.Entities.Vacacion", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("Id"));

                    b.Property<int?>("AprobadoPorId")
                        .HasColumnType("int");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("datetime2");

                    b.Property<int?>("CreatedBy")
                        .HasColumnType("int");

                    b.Property<DateTime?>("DeletedAt")
                        .HasColumnType("datetime2");

                    b.Property<int?>("DeletedBy")
                        .HasColumnType("int");

                    b.Property<int>("EmpleadoId")
                        .HasColumnType("int");

                    b.Property<int>("Estado")
                        .HasColumnType("int");

                    b.Property<DateOnly>("FechaFin")
                        .HasColumnType("date");

                    b.Property<DateOnly>("FechaInicio")
                        .HasColumnType("date");

                    b.Property<bool>("IsDeleted")
                        .HasColumnType("bit");

                    b.Property<string>("Observaciones")
                        .HasMaxLength(1000)
                        .HasColumnType("nvarchar(1000)");

                    b.Property<DateTime?>("UpdatedAt")
                        .HasColumnType("datetime2");

                    b.Property<int?>("UpdatedBy")
                        .HasColumnType("int");

                    b.HasKey("Id");

                    b.HasIndex("AprobadoPorId");

                    b.HasIndex("EmpleadoId");

                    b.ToTable("Vacaciones");
                });

            modelBuilder.Entity("ERPNet.Domain.Entities.Archivo", b =>
                {
                    b.HasOne("ERPNet.Domain.Entities.Archivo", "ArchivoOriginal")
                        .WithMany("Thumbnails")
                        .HasForeignKey("ArchivoOriginalId")
                        .OnDelete(DeleteBehavior.Restrict);

                    b.Navigation("ArchivoOriginal");
                });

            modelBuilder.Entity("ERPNet.Domain.Entities.AsignacionTurno", b =>
                {
                    b.HasOne("ERPNet.Domain.Entities.Empleado", "Empleado")
                        .WithMany("AsignacionesTurno")
                        .HasForeignKey("EmpleadoId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired();

                    b.HasOne("ERPNet.Domain.Entities.Turno", "Turno")
                        .WithMany("AsignacionesTurno")
                        .HasForeignKey("TurnoId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired();

                    b.Navigation("Empleado");

                    b.Navigation("Turno");
                });

            modelBuilder.Entity("ERPNet.Domain.Entities.Empleado", b =>
                {
                    b.HasOne("ERPNet.Domain.Entities.Empleado", "Encargado")
                        .WithMany("Subordinados")
                        .HasForeignKey("EncargadoId")
                        .OnDelete(DeleteBehavior.Restrict);

                    b.HasOne("ERPNet.Domain.Entities.Archivo", "Foto")
                        .WithOne()
                        .HasForeignKey("ERPNet.Domain.Entities.Empleado", "FotoId")
                        .OnDelete(DeleteBehavior.NoAction);

                    b.HasOne("ERPNet.Domain.Entities.Seccion", "Seccion")
                        .WithMany("Empleados")
                        .HasForeignKey("SeccionId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired();

                    b.Navigation("Encargado");

                    b.Navigation("Foto");

                    b.Navigation("Seccion");
                });

            modelBuilder.Entity("ERPNet.Domain.Entities.IncidenciaMarcaje", b =>
                {
                    b.HasOne("ERPNet.Domain.Entities.Marcaje", "Marcaje")
                        .WithOne("Incidencia")
                        .HasForeignKey("ERPNet.Domain.Entities.IncidenciaMarcaje", "MarcajeId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired();

                    b.HasOne("ERPNet.Domain.Entities.Empleado", "ValidadaPor")
                        .WithMany()
                        .HasForeignKey("ValidadaPorId")
                        .OnDelete(DeleteBehavior.Restrict);

                    b.Navigation("Marcaje");

                    b.Navigation("ValidadaPor");
                });

            modelBuilder.Entity("ERPNet.Domain.Entities.Log", b =>
                {
                    b.HasOne("ERPNet.Domain.Entities.Usuario", "Usuario")
                        .WithMany("Logs")
                        .HasForeignKey("UsuarioId")
                        .OnDelete(DeleteBehavior.SetNull);

                    b.Navigation("Usuario");
                });

            modelBuilder.Entity("ERPNet.Domain.Entities.LogIntentoLogin", b =>
                {
                    b.HasOne("ERPNet.Domain.Entities.Usuario", "Usuario")
                        .WithMany("IntentosLogin")
                        .HasForeignKey("UsuarioId")
                        .OnDelete(DeleteBehavior.SetNull);

                    b.Navigation("Usuario");
                });

            modelBuilder.Entity("ERPNet.Domain.Entities.Maquinaria", b =>
                {
                    b.HasOne("ERPNet.Domain.Entities.Archivo", "CertificadoCe")
                        .WithOne()
                        .HasForeignKey("ERPNet.Domain.Entities.Maquinaria", "CertificadoCeId")
                        .OnDelete(DeleteBehavior.NoAction);

                    b.HasOne("ERPNet.Domain.Entities.Archivo", "FichaTecnica")
                        .WithOne()
                        .HasForeignKey("ERPNet.Domain.Entities.Maquinaria", "FichaTecnicaId")
                        .OnDelete(DeleteBehavior.NoAction);

                    b.HasOne("ERPNet.Domain.Entities.Archivo", "Foto")
                        .WithOne()
                        .HasForeignKey("ERPNet.Domain.Entities.Maquinaria", "FotoId")
                        .OnDelete(DeleteBehavior.NoAction);

                    b.HasOne("ERPNet.Domain.Entities.Archivo", "Manual")
                        .WithOne()
                        .HasForeignKey("ERPNet.Domain.Entities.Maquinaria", "ManualId")
                        .OnDelete(DeleteBehavior.NoAction);

                    b.HasOne("ERPNet.Domain.Entities.Seccion", "Seccion")
                        .WithMany("Maquinarias")
                        .HasForeignKey("SeccionId")
                        .OnDelete(DeleteBehavior.SetNull);

                    b.Navigation("CertificadoCe");

                    b.Navigation("FichaTecnica");

                    b.Navigation("Foto");

                    b.Navigation("Manual");

                    b.Navigation("Seccion");
                });

            modelBuilder.Entity("ERPNet.Domain.Entities.Marcaje", b =>
                {
                    b.HasOne("ERPNet.Domain.Entities.Empleado", "Empleado")
                        .WithMany("Marcajes")
                        .HasForeignKey("EmpleadoId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired();

                    b.Navigation("Empleado");
                });

            modelBuilder.Entity("ERPNet.Domain.Entities.Menu", b =>
                {
                    b.HasOne("ERPNet.Domain.Entities.Menu", "MenuPadre")
                        .WithMany("SubMenus")
                        .HasForeignKey("MenuPadreId")
                        .OnDelete(DeleteBehavior.Restrict);

                    b.HasOne("ERPNet.Domain.Entities.Recurso", "Recurso")
                        .WithMany("Menus")
                        .HasForeignKey("RecursoId")
                        .OnDelete(DeleteBehavior.SetNull);

                    b.Navigation("MenuPadre");

                    b.Navigation("Recurso");
                });

            modelBuilder.Entity("ERPNet.Domain.Entities.OrdenMantenimiento", b =>
                {
                    b.HasOne("ERPNet.Domain.Entities.Empleado", "AsignadoA")
                        .WithMany()
                        .HasForeignKey("AsignadoAId")
                        .OnDelete(DeleteBehavior.SetNull);

                    b.HasOne("ERPNet.Domain.Entities.Maquinaria", "Maquinaria")
                        .WithMany("OrdenesMantenimiento")
                        .HasForeignKey("MaquinariaId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired();

                    b.HasOne("ERPNet.Domain.Entities.TipoMantenimiento", "TipoMantenimiento")
                        .WithMany("OrdenesMantenimiento")
                        .HasForeignKey("TipoMantenimientoId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired();

                    b.Navigation("AsignadoA");

                    b.Navigation("Maquinaria");

                    b.Navigation("TipoMantenimiento");
                });

            modelBuilder.Entity("ERPNet.Domain.Entities.PermisoRolRecurso", b =>
                {
                    b.HasOne("ERPNet.Domain.Entities.Recurso", "Recurso")
                        .WithMany("PermisosRolRecurso")
                        .HasForeignKey("RecursoId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired();

                    b.HasOne("ERPNet.Domain.Entities.Rol", "Rol")
                        .WithMany("PermisosRolRecurso")
                        .HasForeignKey("RolId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired();

                    b.Navigation("Recurso");

                    b.Navigation("Rol");
                });

            modelBuilder.Entity("ERPNet.Domain.Entities.RefreshToken", b =>
                {
                    b.HasOne("ERPNet.Domain.Entities.Usuario", "Usuario")
                        .WithMany("RefreshTokens")
                        .HasForeignKey("UsuarioId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("Usuario");
                });

            modelBuilder.Entity("ERPNet.Domain.Entities.RolUsuario", b =>
                {
                    b.HasOne("ERPNet.Domain.Entities.Rol", "Rol")
                        .WithMany("RolesUsuarios")
                        .HasForeignKey("RolId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired();

                    b.HasOne("ERPNet.Domain.Entities.Usuario", "Usuario")
                        .WithMany("RolesUsuarios")
                        .HasForeignKey("UsuarioId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired();

                    b.Navigation("Rol");

                    b.Navigation("Usuario");
                });

            modelBuilder.Entity("ERPNet.Domain.Entities.Seccion", b =>
                {
                    b.HasOne("ERPNet.Domain.Entities.Empleado", "Responsable")
                        .WithMany()
                        .HasForeignKey("ResponsableId")
                        .OnDelete(DeleteBehavior.SetNull);

                    b.Navigation("Responsable");
                });

            modelBuilder.Entity("ERPNet.Domain.Entities.Usuario", b =>
                {
                    b.HasOne("ERPNet.Domain.Entities.Empleado", "Empleado")
                        .WithOne("Usuario")
                        .HasForeignKey("ERPNet.Domain.Entities.Usuario", "EmpleadoId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired();

                    b.Navigation("Empleado");
                });

            modelBuilder.Entity("ERPNet.Domain.Entities.Vacacion", b =>
                {
                    b.HasOne("ERPNet.Domain.Entities.Empleado", "AprobadoPor")
                        .WithMany()
                        .HasForeignKey("AprobadoPorId")
                        .OnDelete(DeleteBehavior.Restrict);

                    b.HasOne("ERPNet.Domain.Entities.Empleado", "Empleado")
                        .WithMany("Vacaciones")
                        .HasForeignKey("EmpleadoId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired();

                    b.Navigation("AprobadoPor");

                    b.Navigation("Empleado");
                });

            modelBuilder.Entity("ERPNet.Domain.Entities.Archivo", b =>
                {
                    b.Navigation("Thumbnails");
                });

            modelBuilder.Entity("ERPNet.Domain.Entities.Empleado", b =>
                {
                    b.Navigation("AsignacionesTurno");

                    b.Navigation("Marcajes");

                    b.Navigation("Subordinados");

                    b.Navigation("Usuario");

                    b.Navigation("Vacaciones");
                });

            modelBuilder.Entity("ERPNet.Domain.Entities.Maquinaria", b =>
                {
                    b.Navigation("OrdenesMantenimiento");
                });

            modelBuilder.Entity("ERPNet.Domain.Entities.Marcaje", b =>
                {
                    b.Navigation("Incidencia");
                });

            modelBuilder.Entity("ERPNet.Domain.Entities.Menu", b =>
                {
                    b.Navigation("SubMenus");
                });

            modelBuilder.Entity("ERPNet.Domain.Entities.Recurso", b =>
                {
                    b.Navigation("Menus");

                    b.Navigation("PermisosRolRecurso");
                });

            modelBuilder.Entity("ERPNet.Domain.Entities.Rol", b =>
                {
                    b.Navigation("PermisosRolRecurso");

                    b.Navigation("RolesUsuarios");
                });

            modelBuilder.Entity("ERPNet.Domain.Entities.Seccion", b =>
                {
                    b.Navigation("Empleados");

                    b.Navigation("Maquinarias");
                });

            modelBuilder.Entity("ERPNet.Domain.Entities.TipoMantenimiento", b =>
                {
                    b.Navigation("OrdenesMantenimiento");
                });

            modelBuilder.Entity("ERPNet.Domain.Entities.Turno", b =>
                {
                    b.Navigation("AsignacionesTurno");
                });

            modelBuilder.Entity("ERPNet.Domain.Entities.Usuario", b =>
                {
                    b.Navigation("IntentosLogin");

                    b.Navigation("Logs");

                    b.Navigation("RefreshTokens");

                    b.Navigation("RolesUsuarios");
                });
#pragma warning restore 612, 618
        }
    }
}
